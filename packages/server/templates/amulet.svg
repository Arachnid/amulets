<svg viewBox="0 0 640 640" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <style>
        .poem {
            font: 70px monospace;
            dominant-baseline: middle;
            text-anchor: middle;
        }
        .onelinepoem {
            font: 70px monospace;
            text-anchor: middle;
            dominant-baseline: middle;
        }
        .lighthex {
            fill: {{lightcolor}};
        }
        .darkhex {
            fill: {{darkcolor}};
        }
    </style>
    <defs>
        <g id="icon">
            <polygon points="40,5 75,25 75,55 40,75 5,55 5,25" class="darkhex" />
            <polygon points="40,5 40,15 15,31 15,47, 5,55, 5,25" class="lighthex" />
        </g>
    </defs>
    {% for char in hash -%}
        {%- if char == 56 -%}
            <use x="{{(loop.index0 % 8) * 80}}" y="{{(loop.index0 // 8) * 80}}" xlink:href="#icon" />
        {% endif %}
    {%- endfor %}
    <text class="poem" x="{% for char in text %}{{(loop.index0 % 8) * 80 + 40}} {% endfor %}" y="{% for char in text %}{{(loop.index0 // 8) * 80 + 40}} {% endfor %}">
        {{text}}
    </text>
</svg>
